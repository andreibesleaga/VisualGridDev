<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="592px" preserveAspectRatio="none" style="width:678px;height:592px;background:#FFFFFF;" version="1.1" viewBox="0 0 678 592" width="678px" zoomAndPan="magnify"><title>Operational Transformation for Collaborative Editing</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="418.0313" x="128.8528" y="27.9951">Operational Transformation for Collaborative Editing</text><g><title>Client A</title><rect fill="#000000" fill-opacity="0.00000" height="483.125" width="8" x="35.2788" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="39" x2="39" y1="73.5938" y2="556.7188"/></g><g><title>Client B</title><rect fill="#000000" fill-opacity="0.00000" height="483.125" width="8" x="113.8501" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="117.5576" x2="117.5576" y1="73.5938" y2="556.7188"/></g><g><title>OT Server</title><rect fill="#000000" fill-opacity="0.00000" height="483.125" width="8" x="318.46" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="321.4941" x2="321.4941" y1="73.5938" y2="556.7188"/></g><g><title>State Manager</title><rect fill="#000000" fill-opacity="0.00000" height="483.125" width="8" x="513.0762" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="516.6392" x2="516.6392" y1="73.5938" y2="556.7188"/></g><g class="participant participant-head" data-participant="ClientA"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68.5576" x="5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.5576" x="12" y="62.292">Client A</text></g><g class="participant participant-tail" data-participant="ClientA"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68.5576" x="5" y="555.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.5576" x="12" y="575.7139">Client A</text></g><g class="participant participant-head" data-participant="ClientB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68.585" x="83.5576" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.585" x="90.5576" y="62.292">Client B</text></g><g class="participant participant-tail" data-participant="ClientB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68.585" x="83.5576" y="555.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.585" x="90.5576" y="575.7139">Client B</text></g><g class="participant participant-head" data-participant="OTServer"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.9316" x="280.4941" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.9316" x="287.4941" y="62.292">OT Server</text></g><g class="participant participant-tail" data-participant="OTServer"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.9316" x="280.4941" y="555.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.9316" x="287.4941" y="575.7139">OT Server</text></g><g class="participant participant-head" data-participant="StateManager"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116.874" x="458.6392" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.874" x="465.6392" y="62.292">State Manager</text></g><g class="participant participant-tail" data-participant="StateManager"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116.874" x="458.6392" y="555.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.874" x="465.6392" y="575.7139">State Manager</text></g><g class="message" data-participant-1="ClientA" data-participant-2="OTServer"><polygon fill="#181818" points="310.46,100.7266,320.46,104.7266,310.46,108.7266,314.46,104.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="39.2788" x2="316.46" y1="104.7266" y2="104.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.583" x="46.2788" y="99.6606">Operation Op1</text></g><g class="message" data-participant-1="OTServer" data-participant-2="StateManager"><polygon fill="#181818" points="505.0762,129.8594,515.0762,133.8594,505.0762,137.8594,509.0762,133.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="322.46" x2="511.0762" y1="133.8594" y2="133.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.5898" x="329.46" y="128.7935">Apply Op1</text></g><g class="message" data-participant-1="StateManager" data-participant-2="OTServer"><polygon fill="#181818" points="333.46,158.9922,323.46,162.9922,333.46,166.9922,329.46,162.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="327.46" x2="516.0762" y1="162.9922" y2="162.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.5996" x="339.46" y="157.9263">State updated</text></g><g class="message" data-participant-1="OTServer" data-participant-2="ClientB"><polygon fill="#181818" points="128.8501,188.125,118.8501,192.125,128.8501,196.125,124.8501,192.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="122.8501" x2="321.46" y1="192.125" y2="192.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.6289" x="134.8501" y="187.0591">Send Op1</text></g><g class="message" data-participant-1="ClientB" data-participant-2="OTServer"><polygon fill="#181818" points="310.46,217.2578,320.46,221.2578,310.46,225.2578,314.46,221.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="117.8501" x2="316.46" y1="221.2578" y2="221.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.6099" x="124.8501" y="216.1919">Operation Op2 (concurrent)</text></g><g class="message" data-participant-1="OTServer" data-participant-2="StateManager"><polygon fill="#181818" points="505.0762,246.3906,515.0762,250.3906,505.0762,254.3906,509.0762,250.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="322.46" x2="511.0762" y1="250.3906" y2="250.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.7759" x="329.46" y="245.3247">Get current state</text></g><g class="message" data-participant-1="StateManager" data-participant-2="OTServer"><polygon fill="#181818" points="333.46,275.5234,323.46,279.5234,333.46,283.5234,329.46,279.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="327.46" x2="516.0762" y1="279.5234" y2="279.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.0151" x="339.46" y="274.4575">Return state</text></g><g class="message" data-participant-1="OTServer" data-participant-2="OTServer"><line style="stroke:#181818;stroke-width:1;" x1="322.46" x2="364.46" y1="308.6563" y2="308.6563"/><line style="stroke:#181818;stroke-width:1;" x1="364.46" x2="364.46" y1="308.6563" y2="321.6563"/><line style="stroke:#181818;stroke-width:1;" x1="323.46" x2="364.46" y1="321.6563" y2="321.6563"/><polygon fill="#181818" points="333.46,317.6563,323.46,321.6563,333.46,325.6563,329.46,321.6563" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.6162" x="329.46" y="303.5903">Transform Op2 against Op1</text></g><g class="message" data-participant-1="OTServer" data-participant-2="StateManager"><polygon fill="#181818" points="505.0762,346.7891,515.0762,350.7891,505.0762,354.7891,509.0762,350.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="322.46" x2="511.0762" y1="350.7891" y2="350.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9312" x="329.46" y="345.7231">Apply transformed Op2</text></g><g class="message" data-participant-1="StateManager" data-participant-2="OTServer"><polygon fill="#181818" points="333.46,375.9219,323.46,379.9219,333.46,383.9219,329.46,379.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="327.46" x2="516.0762" y1="379.9219" y2="379.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.5996" x="339.46" y="374.856">State updated</text></g><g class="message" data-participant-1="OTServer" data-participant-2="ClientA"><polygon fill="#181818" points="50.2788,405.0547,40.2788,409.0547,50.2788,413.0547,46.2788,409.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="44.2788" x2="321.46" y1="409.0547" y2="409.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.9702" x="56.2788" y="403.9888">Send transformed Op2</text></g><g class="message" data-participant-1="OTServer" data-participant-2="ClientB"><polygon fill="#181818" points="128.8501,434.1875,118.8501,438.1875,128.8501,442.1875,124.8501,438.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="122.8501" x2="321.46" y1="438.1875" y2="438.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.3545" x="134.8501" y="433.1216">Confirm Op2</text></g><path d="M327,451.1875 L327,491.1875 L528,491.1875 L528,461.1875 L518,451.1875 L327,451.1875" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M518,451.1875 L518,461.1875 L528,461.1875 L518,451.1875" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.0767" x="333" y="468.2544">Operational Transformation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.1709" x="333" y="483.3872">ensures consistency</text><path d="M522,501.4531 L522,541.4531 L671,541.4531 L671,511.4531 L661,501.4531 L522,501.4531" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M661,501.4531 L661,511.4531 L671,511.4531 L661,501.4531" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.7368" x="528" y="518.52">Maintains canonical</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.6543" x="528" y="533.6528">document state</text><!--SRC=[fP8nRy8m48Lt_ueJKpjqA6E6IW5LdH1IOMIvEaTwaZb7zWM9VrydCP0WYYfridt-_FpksShg2DOD1LJsWWws0INkVJZq1KWpM7hdyCjto97WlM9bgOrfC2XRRb0KPal7bCPo1XXXM9HtYSM8M4o9zHOs58uKUcIz7HPJPgEe12iKh3FNLtB1c7mrlBnT18fhVsdsQixrZXaVBg1i6dVgcN5zgZKOQ9ig3TL4A_UK49AgLybk5h-xcSEJzMBR41Bt_C3Q1oba36Atyy3Y9saR96DZoIjoUUNU0zR84lLFwUZv97Kzpl-HL9cJkbMyc-dIovu7kyQ8JyA1wsy5lx_S2CM3ZxmJajW6Yf3oZXoLn9vkX2Qj5EcJiMWN35WKBspHxQJojZrS7-47]--></g></svg>