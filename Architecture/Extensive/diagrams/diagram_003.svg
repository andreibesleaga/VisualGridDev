<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="717px" preserveAspectRatio="none" style="width:754px;height:717px;background:#FFFFFF;" version="1.1" viewBox="0 0 754 717" width="754px" zoomAndPan="magnify"><title>A2A/MCP Communication Sequence</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="280.1846" x="233.1292" y="27.9951">A2A/MCP Communication Sequence</text><g><title>Agent A</title><rect fill="#000000" fill-opacity="0.00000" height="608.2578" width="8" x="35.7334" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="39" x2="39" y1="73.5938" y2="681.8516"/></g><g><title>Protocol Router</title><rect fill="#000000" fill-opacity="0.00000" height="608.2578" width="8" x="169.4653" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="173.2427" x2="173.2427" y1="73.5938" y2="681.8516"/></g><g><title>Mesh Network</title><rect fill="#000000" fill-opacity="0.00000" height="608.2578" width="8" x="351.2974" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="354.4155" x2="354.4155" y1="73.5938" y2="681.8516"/></g><g><title>Agent B</title><rect fill="#000000" fill-opacity="0.00000" height="608.2578" width="8" x="484.1216" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="487.3745" x2="487.3745" y1="73.5938" y2="681.8516"/></g><g><title>External System</title><rect fill="#000000" fill-opacity="0.00000" height="608.2578" width="8" x="610.5068" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="614.0132" x2="614.0132" y1="73.5938" y2="681.8516"/></g><g class="participant participant-head" data-participant="AgentA"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69.4668" x="5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.4668" x="12" y="62.292">Agent A</text></g><g class="participant participant-tail" data-participant="AgentA"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69.4668" x="5" y="680.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.4668" x="12" y="700.8467">Agent A</text></g><g class="participant participant-head" data-participant="Router"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.4453" x="112.2427" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.4453" x="119.2427" y="62.292">Protocol Router</text></g><g class="participant participant-tail" data-participant="Router"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.4453" x="112.2427" y="680.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.4453" x="119.2427" y="700.8467">Protocol Router</text></g><g class="participant participant-head" data-participant="Mesh"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.7637" x="298.4155" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.7637" x="305.4155" y="62.292">Mesh Network</text></g><g class="participant participant-tail" data-participant="Mesh"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.7637" x="298.4155" y="680.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.7637" x="305.4155" y="700.8467">Mesh Network</text></g><g class="participant participant-head" data-participant="AgentB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69.4941" x="453.3745" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.4941" x="460.3745" y="62.292">Agent B</text></g><g class="participant participant-tail" data-participant="AgentB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69.4941" x="453.3745" y="680.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.4941" x="460.3745" y="700.8467">Agent B</text></g><g class="participant participant-head" data-participant="External"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.9873" x="550.0132" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.9873" x="557.0132" y="62.292">External System</text></g><g class="participant participant-tail" data-participant="External"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.9873" x="550.0132" y="680.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.9873" x="557.0132" y="700.8467">External System</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="747.4429" x="0" y="104.1602"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="747.4429" y1="104.1602" y2="104.1602"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="747.4429" y1="107.1602" y2="107.1602"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="228.627" x="259.408" y="93.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="210.1011" x="265.408" y="109.6606">A2A Internal Communication</text><g class="message" data-participant-1="AgentA" data-participant-2="Router"><polygon fill="#181818" points="161.4653,143.8594,171.4653,147.8594,161.4653,151.8594,165.4653,147.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="39.7334" x2="167.4653" y1="147.8594" y2="147.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.6133" x="46.7334" y="142.7935">A2A message</text></g><g class="message" data-participant-1="Router" data-participant-2="Router"><line style="stroke:#181818;stroke-width:1;" x1="173.4653" x2="215.4653" y1="176.9922" y2="176.9922"/><line style="stroke:#181818;stroke-width:1;" x1="215.4653" x2="215.4653" y1="176.9922" y2="189.9922"/><line style="stroke:#181818;stroke-width:1;" x1="174.4653" x2="215.4653" y1="189.9922" y2="189.9922"/><polygon fill="#181818" points="184.4653,185.9922,174.4653,189.9922,184.4653,193.9922,180.4653,189.9922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.8394" x="180.4653" y="171.9263">Select optimal protocol</text></g><g class="message" data-participant-1="Router" data-participant-2="Mesh"><polygon fill="#181818" points="343.2974,215.125,353.2974,219.125,343.2974,223.125,347.2974,219.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.4653" x2="349.2974" y1="219.125" y2="219.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.1074" x="180.4653" y="214.0591">Route via libp2p</text></g><g class="message" data-participant-1="Mesh" data-participant-2="AgentB"><polygon fill="#181818" points="476.1216,244.2578,486.1216,248.2578,476.1216,252.2578,480.1216,248.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="355.2974" x2="482.1216" y1="248.2578" y2="248.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.8242" x="362.2974" y="243.1919">Deliver message</text></g><g class="message" data-participant-1="AgentB" data-participant-2="AgentB"><line style="stroke:#181818;stroke-width:1;" x1="488.1216" x2="530.1216" y1="277.3906" y2="277.3906"/><line style="stroke:#181818;stroke-width:1;" x1="530.1216" x2="530.1216" y1="277.3906" y2="290.3906"/><line style="stroke:#181818;stroke-width:1;" x1="489.1216" x2="530.1216" y1="290.3906" y2="290.3906"/><polygon fill="#181818" points="499.1216,286.3906,489.1216,290.3906,499.1216,294.3906,495.1216,290.3906" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.3853" x="495.1216" y="272.3247">Process message</text></g><g class="message" data-participant-1="AgentB" data-participant-2="Mesh"><polygon fill="#181818" points="366.2974,315.5234,356.2974,319.5234,366.2974,323.5234,362.2974,319.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="360.2974" x2="487.1216" y1="319.5234" y2="319.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.2051" x="372.2974" y="314.4575">Send response</text></g><g class="message" data-participant-1="Mesh" data-participant-2="Router"><polygon fill="#181818" points="184.4653,344.6563,174.4653,348.6563,184.4653,352.6563,180.4653,348.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="178.4653" x2="354.2974" y1="348.6563" y2="348.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.7847" x="190.4653" y="343.5903">Route response</text></g><g class="message" data-participant-1="Router" data-participant-2="AgentA"><polygon fill="#181818" points="50.7334,373.7891,40.7334,377.7891,50.7334,381.7891,46.7334,377.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="44.7334" x2="172.4653" y1="377.7891" y2="377.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.7319" x="56.7334" y="372.7231">Deliver response</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="747.4429" x="0" y="406.3555"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="747.4429" y1="406.3555" y2="406.3555"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="747.4429" y1="409.3555" y2="409.3555"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="234.6382" x="256.4023" y="395.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="216.1123" x="262.4023" y="411.856">MCP External Communication</text><g class="message" data-participant-1="AgentA" data-participant-2="Router"><polygon fill="#181818" points="161.4653,446.0547,171.4653,450.0547,161.4653,454.0547,165.4653,450.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="39.7334" x2="167.4653" y1="450.0547" y2="450.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.9673" x="46.7334" y="444.9888">MCP request</text></g><g class="message" data-participant-1="Router" data-participant-2="Router"><line style="stroke:#181818;stroke-width:1;" x1="173.4653" x2="215.4653" y1="479.1875" y2="479.1875"/><line style="stroke:#181818;stroke-width:1;" x1="215.4653" x2="215.4653" y1="479.1875" y2="492.1875"/><line style="stroke:#181818;stroke-width:1;" x1="174.4653" x2="215.4653" y1="492.1875" y2="492.1875"/><polygon fill="#181818" points="184.4653,488.1875,174.4653,492.1875,184.4653,496.1875,180.4653,492.1875" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.832" x="180.4653" y="474.1216">Translate to MCP protocol</text></g><g class="message" data-participant-1="Router" data-participant-2="External"><polygon fill="#181818" points="602.5068,517.3203,612.5068,521.3203,602.5068,525.3203,606.5068,521.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.4653" x2="608.5068" y1="521.3203" y2="521.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.3511" x="180.4653" y="516.2544">MCP tool call</text></g><g class="message" data-participant-1="External" data-participant-2="External"><line style="stroke:#181818;stroke-width:1;" x1="614.5068" x2="656.5068" y1="550.4531" y2="550.4531"/><line style="stroke:#181818;stroke-width:1;" x1="656.5068" x2="656.5068" y1="550.4531" y2="563.4531"/><line style="stroke:#181818;stroke-width:1;" x1="615.5068" x2="656.5068" y1="563.4531" y2="563.4531"/><polygon fill="#181818" points="625.5068,559.4531,615.5068,563.4531,625.5068,567.4531,621.5068,563.4531" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.936" x="621.5068" y="545.3872">Execute operation</text></g><g class="message" data-participant-1="External" data-participant-2="Router"><polygon fill="#181818" points="184.4653,588.5859,174.4653,592.5859,184.4653,596.5859,180.4653,592.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="178.4653" x2="613.5068" y1="592.5859" y2="592.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.5967" x="190.4653" y="587.52">MCP response</text></g><g class="message" data-participant-1="Router" data-participant-2="Router"><line style="stroke:#181818;stroke-width:1;" x1="173.4653" x2="215.4653" y1="621.7188" y2="621.7188"/><line style="stroke:#181818;stroke-width:1;" x1="215.4653" x2="215.4653" y1="621.7188" y2="634.7188"/><line style="stroke:#181818;stroke-width:1;" x1="174.4653" x2="215.4653" y1="634.7188" y2="634.7188"/><polygon fill="#181818" points="184.4653,630.7188,174.4653,634.7188,184.4653,638.7188,180.4653,634.7188" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.4014" x="180.4653" y="616.6528">Translate response</text></g><g class="message" data-participant-1="Router" data-participant-2="AgentA"><polygon fill="#181818" points="50.7334,659.8516,40.7334,663.8516,50.7334,667.8516,46.7334,663.8516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="44.7334" x2="172.4653" y1="663.8516" y2="663.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.4644" x="56.7334" y="658.7856">Deliver result</text></g><!--SRC=[ZPBBJiCm44Nt_efHzmYfoqX1IaiNB8egmWyOCoeMZctiIIb_ZnzvMSsYgrWp9pFtNWr9KWZDjdayxa-mDrtNQoauIQEXnPyUjK36B7SaXRHS4soQCuPFim7k8RsRidzoXemm2jvCJ-WIbvybTqJ_1Qz8lyPz9oWMrbRjvbMxid-uXgcQAsZ_F66NkB76M5r7O_2Y1wXqLzSiguU7fq5VbVWElUTdPBcsxBQeK10OIx8By-nWT4562rNcuI8vAFbXjvObgw6TFLJmZ4fUmX_ZgbnV4Y544PehH5xHelu4XzuQxN6QFmhD0gRsh2yxdWLCI0mhNi2Kw1rXHTx56_6q4jQxuzeh7dIGIUXANEEsF8jCE1h1bMAJYe8vN554NyQYIx8AhbHru_nMrdtnz8hOFm00]--></g></svg>