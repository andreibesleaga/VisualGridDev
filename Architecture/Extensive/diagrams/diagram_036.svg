<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="546px" preserveAspectRatio="none" style="width:732px;height:546px;background:#FFFFFF;" version="1.1" viewBox="0 0 732 546" width="732px" zoomAndPan="magnify"><title>Data Encryption Flow</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="168.8271" x="281.3972" y="27.9951">Data Encryption Flow</text><g><title>Client Agent</title><rect fill="#000000" fill-opacity="0.00000" height="437.7266" width="8" x="51.21" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="55" x2="55" y1="73.5938" y2="511.3203"/></g><g><title>Encryption Service</title><rect fill="#000000" fill-opacity="0.00000" height="437.7266" width="8" x="197.2754" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="200.5991" x2="200.5991" y1="73.5938" y2="511.3203"/></g><g><title>Key Management</title><rect fill="#000000" fill-opacity="0.00000" height="437.7266" width="8" x="348.3281" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="351.9517" x2="351.9517" y1="73.5938" y2="511.3203"/></g><g><title>Transport Layer</title><rect fill="#000000" fill-opacity="0.00000" height="437.7266" width="8" x="505.8613" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="509.2441" x2="509.2441" y1="73.5938" y2="511.3203"/></g><g><title>Server Agent</title><rect fill="#000000" fill-opacity="0.00000" height="437.7266" width="8" x="631.3784" y="73.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="634.4785" x2="634.4785" y1="73.5938" y2="511.3203"/></g><g class="participant participant-head" data-participant="Client"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100.4199" x="5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.4199" x="12" y="62.292">Client Agent</text></g><g class="participant participant-tail" data-participant="Client"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100.4199" x="5" y="510.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.4199" x="12" y="530.3154">Client Agent</text></g><g class="participant participant-head" data-participant="Encrypt"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145.3525" x="128.5991" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.3525" x="135.5991" y="62.292">Encryption Service</text></g><g class="participant participant-tail" data-participant="Encrypt"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145.3525" x="128.5991" y="510.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.3525" x="135.5991" y="530.3154">Encryption Service</text></g><g class="participant participant-head" data-participant="KeyMgmt"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.7529" x="283.9517" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.7529" x="290.9517" y="62.292">Key Management</text></g><g class="participant participant-tail" data-participant="KeyMgmt"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.7529" x="283.9517" y="510.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.7529" x="290.9517" y="530.3154">Key Management</text></g><g class="participant participant-head" data-participant="Transport"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.2344" x="447.2441" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.2344" x="454.2441" y="62.292">Transport Layer</text></g><g class="participant participant-tail" data-participant="Transport"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.2344" x="447.2441" y="510.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.2344" x="454.2441" y="530.3154">Transport Layer</text></g><g class="participant participant-head" data-participant="Server"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.7998" x="582.4785" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.7998" x="589.4785" y="62.292">Server Agent</text></g><g class="participant participant-tail" data-participant="Server"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.7998" x="582.4785" y="510.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.7998" x="589.4785" y="530.3154">Server Agent</text></g><g class="message" data-participant-1="Client" data-participant-2="KeyMgmt"><polygon fill="#181818" points="340.3281,100.7266,350.3281,104.7266,340.3281,108.7266,344.3281,104.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="55.21" x2="346.3281" y1="104.7266" y2="104.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.4512" x="62.21" y="99.6606">Request encryption key</text></g><g class="message" data-participant-1="KeyMgmt" data-participant-2="KeyMgmt"><line style="stroke:#181818;stroke-width:1;" x1="352.3281" x2="394.3281" y1="133.8594" y2="133.8594"/><line style="stroke:#181818;stroke-width:1;" x1="394.3281" x2="394.3281" y1="133.8594" y2="146.8594"/><line style="stroke:#181818;stroke-width:1;" x1="353.3281" x2="394.3281" y1="146.8594" y2="146.8594"/><polygon fill="#181818" points="363.3281,142.8594,353.3281,146.8594,363.3281,150.8594,359.3281,146.8594" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.5332" x="359.3281" y="128.7935">Generate/retrieve key</text></g><g class="message" data-participant-1="KeyMgmt" data-participant-2="Client"><polygon fill="#181818" points="66.21,171.9922,56.21,175.9922,66.21,179.9922,62.21,175.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="60.21" x2="351.3281" y1="175.9922" y2="175.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.3032" x="72.21" y="170.9263">Return key</text></g><g class="message" data-participant-1="Client" data-participant-2="Encrypt"><polygon fill="#181818" points="189.2754,201.125,199.2754,205.125,189.2754,209.125,193.2754,205.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="55.21" x2="195.2754" y1="205.125" y2="205.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.4019" x="62.21" y="200.0591">Encrypt data</text></g><g class="message" data-participant-1="Encrypt" data-participant-2="Client"><polygon fill="#181818" points="66.21,230.2578,56.21,234.2578,66.21,238.2578,62.21,234.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="60.21" x2="200.2754" y1="234.2578" y2="234.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.0654" x="72.21" y="229.1919">Encrypted payload</text></g><g class="message" data-participant-1="Client" data-participant-2="Transport"><polygon fill="#181818" points="497.8613,259.3906,507.8613,263.3906,497.8613,267.3906,501.8613,263.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="55.21" x2="503.8613" y1="263.3906" y2="263.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.3096" x="62.21" y="258.3247">Send encrypted data</text></g><g class="message" data-participant-1="Transport" data-participant-2="Transport"><line style="stroke:#181818;stroke-width:1;" x1="509.8613" x2="551.8613" y1="292.5234" y2="292.5234"/><line style="stroke:#181818;stroke-width:1;" x1="551.8613" x2="551.8613" y1="292.5234" y2="305.5234"/><line style="stroke:#181818;stroke-width:1;" x1="510.8613" x2="551.8613" y1="305.5234" y2="305.5234"/><polygon fill="#181818" points="520.8613,301.5234,510.8613,305.5234,520.8613,309.5234,516.8613,305.5234" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.8081" x="516.8613" y="287.4575">mTLS encryption</text></g><g class="message" data-participant-1="Transport" data-participant-2="Server"><polygon fill="#181818" points="623.3784,330.6563,633.3784,334.6563,623.3784,338.6563,627.3784,334.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="509.8613" x2="629.3784" y1="334.6563" y2="334.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.6821" x="516.8613" y="329.5903">Deliver data</text></g><g class="message" data-participant-1="Server" data-participant-2="KeyMgmt"><polygon fill="#181818" points="363.3281,359.7891,353.3281,363.7891,363.3281,367.7891,359.3281,363.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="357.3281" x2="634.3784" y1="363.7891" y2="363.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.4639" x="369.3281" y="358.7231">Request decryption key</text></g><g class="message" data-participant-1="KeyMgmt" data-participant-2="Server"><polygon fill="#181818" points="623.3784,388.9219,633.3784,392.9219,623.3784,396.9219,627.3784,392.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="352.3281" x2="629.3784" y1="392.9219" y2="392.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.3032" x="359.3281" y="387.856">Return key</text></g><g class="message" data-participant-1="Server" data-participant-2="Encrypt"><polygon fill="#181818" points="212.2754,418.0547,202.2754,422.0547,212.2754,426.0547,208.2754,422.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="206.2754" x2="634.3784" y1="422.0547" y2="422.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.957" x="218.2754" y="416.9888">Decrypt data</text></g><g class="message" data-participant-1="Encrypt" data-participant-2="Server"><polygon fill="#181818" points="623.3784,447.1875,633.3784,451.1875,623.3784,455.1875,627.3784,451.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="201.2754" x2="629.3784" y1="451.1875" y2="451.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.6206" x="208.2754" y="446.1216">Decrypted payload</text></g><g class="message" data-participant-1="Server" data-participant-2="Server"><line style="stroke:#181818;stroke-width:1;" x1="635.3784" x2="677.3784" y1="480.3203" y2="480.3203"/><line style="stroke:#181818;stroke-width:1;" x1="677.3784" x2="677.3784" y1="480.3203" y2="493.3203"/><line style="stroke:#181818;stroke-width:1;" x1="636.3784" x2="677.3784" y1="493.3203" y2="493.3203"/><polygon fill="#181818" points="646.3784,489.3203,636.3784,493.3203,646.3784,497.3203,642.3784,493.3203" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.2432" x="642.3784" y="475.2544">Process data</text></g><!--SRC=[TP3BReCm44NtVCKe-wfx5fMgqdRHHAgQ_C08hf1LC7HmKl7tDTZ6DaetF8R3yTnhbEb05HkcLrtBF1erQ7hhXj-Y65cCgjN8sj3XfLEmz-VMNW_44xb13YMAC-IcQgoe7-Vi1sOwiUOMVL3QqQdjTzn5M4_Z88QEF4DMS9lbw78c9DdH3Oh2B__m58uewGi_Lqo645V-nbpuxndw3WrXWqU14OKRzgJJBqvp5UU99_hmPNYWnfPTX9VaRpz2GoFFtS1D8ja2bpQJRiBMbbrjiQESxI_7Sv8mvrmv9LNer5BRQl8LtckgmNzD1LEIFtgs_1NkvuzxxFD7IM0-PQWnJSxn1m00]--></g></svg>