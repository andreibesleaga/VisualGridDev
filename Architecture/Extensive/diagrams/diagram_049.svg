<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="210px" preserveAspectRatio="none" style="width:2312px;height:210px;background:#FFFFFF;" version="1.1" viewBox="0 0 2312 210" width="2312px" zoomAndPan="magnify"><title>Event Sourcing Architecture</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="222.5986" x="1037.7063" y="22.9951">Event Sourcing Architecture</text></g><!--cluster Command Side--><g class="cluster" data-entity="Command Side" data-source-line="3" data-uid="ent0002" id="cluster_Command Side"><path d="M8.5,86.9369 L127.2764,86.9369 A3.75,3.75 0 0 1 129.7764,89.4369 L136.7764,109.2337 L718.5,109.2337 A2.5,2.5 0 0 1 721,111.7337 L721,200.7369 A2.5,2.5 0 0 1 718.5,203.2369 L8.5,203.2369 A2.5,2.5 0 0 1 6,200.7369 L6,89.4369 A2.5,2.5 0 0 1 8.5,86.9369" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="136.7764" y1="109.2337" y2="109.2337"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="117.7764" x="10" y="101.932">Command Side</text></g><!--cluster Query Side--><g class="cluster" data-entity="Query Side" data-source-line="9" data-uid="ent0006" id="cluster_Query Side"><path d="M1339.5,86.9369 L1427.166,86.9369 A3.75,3.75 0 0 1 1429.666,89.4369 L1436.666,109.2337 L1922.5,109.2337 A2.5,2.5 0 0 1 1925,111.7337 L1925,200.7369 A2.5,2.5 0 0 1 1922.5,203.2369 L1339.5,203.2369 A2.5,2.5 0 0 1 1337,200.7369 L1337,89.4369 A2.5,2.5 0 0 1 1339.5,86.9369" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1337" x2="1436.666" y1="109.2337" y2="109.2337"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="86.666" x="1341" y="101.932">Query Side</text></g><!--cluster Event Bus--><g class="cluster" data-entity="Event Bus" data-source-line="15" data-uid="ent0010" id="cluster_Event Bus"><path d="M821.5,86.9369 L901.1885,86.9369 A3.75,3.75 0 0 1 903.6885,89.4369 L910.6885,109.2337 L1238.5,109.2337 A2.5,2.5 0 0 1 1241,111.7337 L1241,200.7369 A2.5,2.5 0 0 1 1238.5,203.2369 L821.5,203.2369 A2.5,2.5 0 0 1 819,200.7369 L819,89.4369 A2.5,2.5 0 0 1 821.5,86.9369" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="819" x2="910.6885" y1="109.2337" y2="109.2337"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="78.6885" x="823" y="101.932">Event Bus</text></g><!--entity CmdHandler--><g class="entity" data-entity="CmdHandler" data-source-line="4" data-uid="ent0003" id="entity_CmdHandler"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171.5303" x="22.23" y="140.9369"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="173.7603" y="145.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="171.7603" y="147.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="171.7603" y="151.9369"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.5303" x="37.23" y="173.932">Command Handler</text></g><!--entity Aggregate--><g class="entity" data-entity="Aggregate" data-source-line="5" data-uid="ent0004" id="entity_Aggregate"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.2881" x="351.36" y="140.9369"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="444.6481" y="145.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="442.6481" y="147.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="442.6481" y="151.9369"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.2881" x="366.36" y="173.932">Aggregate</text></g><!--entity EventStore--><g class="entity" data-entity="EventStore" data-source-line="6" data-uid="ent0005" id="entity_EventStore"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.8672" x="583.07" y="140.9369"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="684.9372" y="145.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="682.9372" y="147.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="682.9372" y="151.9369"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.8672" x="598.07" y="173.932">Event Store</text></g><!--entity Projector--><g class="entity" data-entity="Projector" data-source-line="10" data-uid="ent0007" id="entity_Projector"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.3311" x="1353.33" y="140.9369"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1480.6611" y="145.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1478.6611" y="147.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1478.6611" y="151.9369"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.3311" x="1368.33" y="173.932">Event Projector</text></g><!--entity ReadModel--><g class="entity" data-entity="ReadModel" data-source-line="11" data-uid="ent0008" id="entity_ReadModel"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.291" x="1786.85" y="140.9369"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1889.141" y="145.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1887.141" y="147.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1887.141" y="151.9369"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.291" x="1801.85" y="173.932">Read Model</text></g><!--entity QueryHandler--><g class="entity" data-entity="QueryHandler" data-source-line="12" data-uid="ent0009" id="entity_QueryHandler"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142.1221" x="1535.94" y="140.9369"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1658.0621" y="145.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1656.0621" y="147.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1656.0621" y="151.9369"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.1221" x="1550.94" y="173.932">Query Handler</text></g><!--entity Kafka--><g class="entity" data-entity="Kafka" data-source-line="16" data-uid="ent0011" id="entity_Kafka"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.0518" x="834.97" y="140.9369"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="951.0218" y="145.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="949.0218" y="147.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="949.0218" y="151.9369"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.0518" x="849.97" y="173.932">Apache Kafka</text></g><!--entity Router--><g class="entity" data-entity="Router" data-source-line="17" data-uid="ent0012" id="entity_Router"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.5811" x="1093.21" y="140.9369"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1204.7911" y="145.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1202.7911" y="147.9369"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1202.7911" y="151.9369"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.5811" x="1108.21" y="173.932">Event Router</text></g><g class="entity" data-entity="GMN20" data-source-line="28" data-uid="ent0021" id="entity_GMN20"><path d="M1943.72,143.9569 L1943.72,184.2225 L2104.2859,184.2225 L2104.2859,153.9569 L2094.2859,143.9569 L1943.72,143.9569" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2094.2859,143.9569 L2094.2859,153.9569 L2104.2859,153.9569 L2094.2859,143.9569" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.5659" x="1949.72" y="161.0238">Immutable event log,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.1025" x="1949.72" y="176.1566">full audit trail</text></g><g class="entity" data-entity="GMN23" data-source-line="29" data-uid="ent0024" id="entity_GMN23"><path d="M2138.98,143.9569 L2138.98,184.2225 L2305.0113,184.2225 L2305.0113,153.9569 L2295.0113,143.9569 L2138.98,143.9569" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2295.0113,143.9569 L2295.0113,153.9569 L2305.0113,153.9569 L2295.0113,143.9569" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.0313" x="2144.98" y="161.0238">Optimized for queries,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.6489" x="2144.98" y="176.1566">eventual consistency</text></g><!--link CmdHandler to Aggregate--><g class="link" data-entity-1="CmdHandler" data-entity-2="Aggregate" data-source-line="20" data-uid="lnk13" id="link_CmdHandler_Aggregate"><path d="M193.97,164.0869 C244.35,164.0869 300.6,164.0869 344.96,164.0869" fill="none" id="CmdHandler-to-Aggregate" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="350.96,164.0869,341.96,160.0869,345.96,164.0869,341.96,168.0869,350.96,164.0869" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.4053" x="212.06" y="157.1538">Execute command</text></g><!--link Aggregate to EventStore--><g class="link" data-entity-1="Aggregate" data-entity-2="EventStore" data-source-line="21" data-uid="lnk14" id="link_Aggregate_EventStore"><path d="M465.13,164.0869 C500.73,164.0869 540.52,164.0869 576.85,164.0869" fill="none" id="Aggregate-to-EventStore" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="582.85,164.0869,573.85,160.0869,577.85,164.0869,573.85,168.0869,582.85,164.0869" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.5767" x="482.86" y="157.1538">Store events</text></g><!--link EventStore to Kafka--><g class="link" data-entity-1="EventStore" data-entity-2="Kafka" data-source-line="22" data-uid="lnk15" id="link_EventStore_Kafka"><path d="M705.38,164.0869 C744.27,164.0869 788.63,164.0869 828.77,164.0869" fill="none" id="EventStore-to-Kafka" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="834.77,164.0869,825.77,160.0869,829.77,164.0869,825.77,168.0869,834.77,164.0869" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.4976" x="722.95" y="180.1538">Publish events</text></g><!--link Kafka to Router--><g class="link" data-entity-1="Kafka" data-entity-2="Router" data-source-line="23" data-uid="lnk16" id="link_Kafka_Router"><path d="M971.27,164.0869 C1009.04,164.0869 1049.75,164.0869 1087.13,164.0869" fill="none" id="Kafka-to-Router" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1093.13,164.0869,1084.13,160.0869,1088.13,164.0869,1084.13,168.0869,1093.13,164.0869" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.252" x="989.12" y="157.1538">Route events</text></g><!--link Router to Projector--><g class="link" data-entity-1="Router" data-entity-2="Projector" data-source-line="24" data-uid="lnk17" id="link_Router_Projector"><path d="M1225.25,164.0869 C1264,164.0869 1307.01,164.0869 1347.02,164.0869" fill="none" id="Router-to-Projector" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1353.02,164.0869,1344.02,160.0869,1348.02,164.0869,1344.02,168.0869,1353.02,164.0869" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.9233" x="1243.06" y="157.1538">Project events</text></g><!--link Projector to ReadModel--><g class="link" data-entity-1="Projector" data-entity-2="ReadModel" data-source-line="25" data-uid="lnk18" id="link_Projector_ReadModel"><path d="M1443.81,140.6969 C1460.13,120.1369 1486.94,91.5869 1518,78.9369 C1587.77,50.5169 1612.54,69.6869 1687.5,77.2169 C1739.2,82.4069 1785.8253,112.8733 1816.0353,136.7833" fill="none" id="Projector-to-ReadModel" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1820.74,140.5069,1816.1653,131.7849,1816.8194,137.4039,1811.2005,138.0579,1820.74,140.5069" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.9214" x="1599.5" y="67.0038">Update views</text></g><!--link QueryHandler to ReadModel--><g class="link" data-entity-1="QueryHandler" data-entity-2="ReadModel" data-source-line="26" data-uid="lnk19" id="link_QueryHandler_ReadModel"><path d="M1678.33,164.0869 C1712.75,164.0869 1747.64,164.0869 1780.64,164.0869" fill="none" id="QueryHandler-to-ReadModel" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1786.64,164.0869,1777.64,160.0869,1781.64,164.0869,1777.64,168.0869,1786.64,164.0869" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.9219" x="1696.46" y="157.1538">Query data</text></g><!--link EventStore to GMN20--><g class="link" data-entity-1="EventStore" data-entity-2="GMN20" data-source-line="28" data-uid="lnk22" id="link_EventStore_GMN20"><path d="M677.13,140.4969 C713.98,115.8169 776.3,78.6669 836.5,63.9369 C894.3,49.8069 1851.7,43.2969 1907.5,63.9369 C1950.28,79.7669 1987.89,119.1369 2008.15,143.5269" fill="none" id="EventStore-GMN20" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link ReadModel to GMN23--><g class="link" data-entity-1="ReadModel" data-entity-2="GMN23" data-source-line="29" data-uid="lnk25" id="link_ReadModel_GMN23"><path d="M1861.24,140.7869 C1877.05,115.7769 1906.1,77.7769 1943.5,63.9369 C1977.06,51.5269 2070.93,51.5769 2104.5,63.9369 C2147.51,79.7869 2185.49,119.1469 2205.97,143.5369" fill="none" id="ReadModel-GMN23" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--SRC=[TL7BJiCm4BpxArOzmm_aW5IgIY24AAsuSN7ZJMBgH_2ZK13_ZX-94qMGG-BP7S_EJXnt0c5xHkNWeBsfkMfXRUgEEwoTDqX8J-iJRH5M6oqbLGmEdE4AlWc4fzQorohUBksxy19eLa0jR2GRu9AzRbk3BNMOU0KjQOCpfqqc9fmW-PbPU_PeBlyPonexez_2IZeRAsX9tYDbyAWPYiIBCA4bBq-SxveguxPpStd-hRT_U5i7LeVmG9iJJIhfzFS6U-tTC2iVuvGfORY-cNAiOFk9TI15cVXRI6b5tXHZbSC5Z1LBfaQa9JCLxFnHSDkDd5IDxUoYoj-ncuknNJAknkF8APsaCaPSmKlFei4pnmzBvdakU3dymAM4A1rk6Dvs3dGpMmmgk9VIEteKWpSGkhrwLOqN0gXdt84pb8k5GXaJ19vwnoN_GWPDyFeUfdAqGIB9UIf2kCfowr3L5_8B]--></g></svg>